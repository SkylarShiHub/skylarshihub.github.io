<!DOCTYPE html>
<html lang="{{ site.lang | default: " en-US" }}">

<head>
  <title>{{ site.title }} | {{site.affiliation}}</title>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="{{ site.description }}">
  <meta name="google-site-verification" content="8E-Y26hIt2rX6WDqnNeigYdCCTAS8_HeFePpFeWIH5Q" />
  {% if site.keywords %}
  <meta name="keywords" content="{{ site.keywords }}">
  {% endif %}
  {% if site.canonical %}
  <link rel="canonical" href="{{ site.canonical }}" />
  {% endif %}

  <link rel="icon" media="(prefers-color-scheme:dark)" href="{{ site.favicon_dark }}" type="image/png" />
  <link rel="icon" media="(prefers-color-scheme:light)" href="{{ site.favicon }}" type="image/png" />
  <script src="./assets/js/favicon-switcher.js" type="application/javascript"></script>

  <link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css
    integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  {% if site.font == "Sans Serif" %}
  <link rel="stylesheet" href="./assets/css/font_sans_serif.css">
  {% else %}
  <link rel="stylesheet" href="./assets/css/font.css">
  {% endif %}
  {% if site.auto_dark_mode %}
  <link rel="stylesheet" href="./assets/css/style.css">
  <link rel="stylesheet" href="./assets/css/publications.css">
  {% else %}
  <link rel="stylesheet" href="./assets/css/style-no-dark-mode.css">
  <link rel="stylesheet" href="./assets/css/publications-no-dark-mode.css">
  {% endif %}
  <style>
    .read-more {
      color: #39c;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <div class="nav"><a href="#about-me">About Me</a>
    <a href="#research-interests">Research Interests</a>
    <a href="#news">News</a>
    <a href="#manuscripts">Manuscripts</a>
    <a href="#publications">Publications</a>
  </div>
  <div class="wrapper">
    <header>

      {% if site.avatar %}
      <a class="image avatar"><img src="{{ site.avatar }}" alt="avatar" /></a>
      {% endif %}

      <h1>{{ site.title }}</h1>

      {% if site.position %}
      <position style="font-size:1.10rem;">{{ site.position }}</position>
      {% endif %}
      {% if site.affiliation %}
      <a href="{{ site.affiliation_link }}" rel="noopener">
        <autocolor>{{ site.affiliation }}</autocolor>
      </a>
      {% endif %}
      {% if site.email %}
      <p style="margin: 0;">Email: {{ site.email }}</p>
      <phone style="margin: 0 0 13px;">Phone: {{ site.phone }}</phone>
      {% endif %}
      <div class="social-icons">
        {% if site.google_scholar %}
        <a style="margin: 0 5px 0 0" href="{{ site.google_scholar }}">
          <i class="ai ai-google-scholar" style="font-size:1.2rem"></i>
        </a>
        {% endif %}

        {% if site.cv_link %}
        <a style="margin: 0 5px 0 0" href="{{ site.cv_link }}">
          <i class="ai ai-cv" style="font-size:1.3rem;"></i>
        </a>
        {% endif %}

        {% if site.github_link %}
        <a style="margin: 0 5px 0 0" href="{{ site.github_link }}">
          <i class="fab fa-github"></i>
        </a>
        {% endif %}

        {% if site.linkedin %}
        <a style="margin: 0 5px 0 0" href="{{ site.linkedin }}">
          <i class="fab fa-linkedin"></i>
        </a>
        {% endif %}

        {% if site.twitter %}
        <a style="margin: 0 0 0 0" href="{{ site.twitter }}">
          <i class="fab fa-x-twitter"></i>
        </a>
        {% endif %}
      </div>
      <br>

    </header>
    <section>

      {{ content }}

      <br>



    </section>
    <footer>

    </footer>
  </div>
  <script>
    var abstractTxT = document.getElementsByClassName("abstract");

    // 获取到之后对每一个abstract进行处理，控制只显示两行，后面用...代替，在...文本后面加上read more可点击，点击后显示所有abstract
    for (var i = 0; i < abstractTxT.length; i++) {
      var abstract = abstractTxT[i].innerHTML;
      if (abstract.length > 123) {
        // 保留完整摘要
        abstractTxT[i].setAttribute('data-full', abstract);

        // 显示简短的摘要和“Read more”链接
        var shortAbstract = abstract.substring(0, 123) + "... <span class='read-more' onclick='showAbstract(" + i + ")'>Read more</span>";
        abstractTxT[i].innerHTML = shortAbstract;  // 更新内容为简短摘要
      }
    }

    // 定义显示完整摘要的函数
    function showAbstract(index) {
      var abstractTxT = document.getElementsByClassName("abstract");
      var fullAbstract = abstractTxT[index].getAttribute('data-full');  // 获取完整摘要

      // 判断当前是否为简短摘要，进行切换
      if (abstractTxT[index].innerHTML.includes("Read more")) {
        // 显示完整摘要并更改文本为“Read less”
        abstractTxT[index].innerHTML = fullAbstract + " <span class='read-more' onclick='showAbstract(" + index + ")'>Read less</span>";
      } else {
        // 隐藏摘要并重新显示简短版本
        var shortAbstract = fullAbstract.substring(0, 123) + "... <span class='read-more' onclick='showAbstract(" + index + ")'>Read more</span>";
        abstractTxT[index].innerHTML = shortAbstract;  // 更新内容为简短摘要
      }
    }
</script>

  <script src="{{ " /assets/js/scale.fix.js" | relative_url }}"></script>
  {% if site.google_analytics %}
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', '{{ site.google_analytics }}', 'auto');
    ga('send', 'pageview');
  </script>
  {% endif %}
</body>

</html>
